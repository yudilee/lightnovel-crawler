{% extends "layout.html.j2" %}

{% block head %}
<title>{{ title }}</title>
{% endblock %}

{% block content %}
<div style="
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 0.6rem;
    width: 450px;
    padding: 2rem 3rem;
    letter-spacing: 0.02rem;
">
    <div style="
        font-size: 1.5rem;
        font-weight: 600;
        color: #222;
    ">
        {{ title }}
    </div>

    <div style="
        color: #666;
        font-size: 0.925rem;
    ">
        <b>Type: </b>{{ job_type }}
        <br /><b>Created: </b> {{ created_at }}
        {% if started_at %}
        <br /><b>Started: </b> {{ started_at }}
        {% endif %}
        {% if finished_at and not is_running %}
        <br /><b>Finished: </b> {{ finished_at }}
        {% endif %}
    </div>

    {% if is_failed or is_canceled %}
    <hr style="width: 100%; opacity: 0.3;" />
    <div style="
        align-self: normal;
        display: block;
        padding: 0.8rem 1.2rem;
        background: #fcefe7;
        border-radius: 0.5rem;
        box-shadow: inset 0 0 5px rgb(0, 0, 0, 0.05);
        color: #966;
        white-space: wrap;
        font-size: 0.825rem;
        font-family: monospace;
    ">
        {{ failure or 'No cause available' }}
    </div>
    {% endif %}

    <hr style="width: 100%; opacity: 0.3;" />
    <a href="{{ job_url }}" target="_blank" style="
        display: block;
        padding: 1rem 2rem;
        border-radius: 8px;
        background: #276ef1;
        align-self: center;
        color: #fff;
        font-weight: 500;
        text-decoration: none;
    ">
        View Job Details
    </a>
</div>
{% endblock %}